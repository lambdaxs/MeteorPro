{"version":3,"sources":["meteor://💻app/lib/collections/posts.js","meteor://💻app/lib/router.js","meteor://💻app/server/publish.js","meteor://💻app/server/main.js"],"names":["PostsCollection","Mongo","Collection","Router","configure","layoutTemplate","loadingTemplate","notFoundTemplate","waitOn","Meteor","subscribe","route","name","data","id","params","_id","findOne","onBeforeAction","only","publish","find","users","userId","fields","startup","count","insert","title","url"],"mappings":";;;;;;;;AAAA;;;AAGAA,kBAAkB,IAAIC,MAAMC,UAAV,CAAqB,OAArB,CAAlB,kD;;;;;;;;;;;ACHA;;;AAGAC,OAAOC,SAAP,CAAiB;AACb;AACAC,oBAAe,QAFF;AAGbC,qBAAiB,SAHJ;AAIbC,sBAAiB,UAJJ;AAKbC,UALa;AAAA,0BAKJ;AACL,mBAAOC,OAAOC,SAAP,CAAiB,OAAjB,CAAP;AACH;;AAPY;AAAA;AAAA,CAAjB;;AAUA;;AAEA;AACAP,OAAOQ,KAAP,CAAa,GAAb,EAAiB;AACbC,UAAK;AADQ,CAAjB;;AAIA;AACAT,OAAOQ,KAAP,CAAa,aAAb,EAA2B;AACvBC,UAAK,YADkB;AAEvBC,QAFuB;AAAA,wBAEjB;AACF,gBAAMC,KAAK,KAAKC,MAAL,CAAYC,GAAvB;AACA,mBAAOhB,gBAAgBiB,OAAhB,CAAwBH,EAAxB,CAAP;AACH;;AALsB;AAAA;AAAA,CAA3B;;AAQA;AACAX,OAAOe,cAAP,CAAsB,cAAtB,EAAqC;AACjCC,UAAK;AAD4B,CAArC,iG;;;;;;;;;;;AC9BA;;;;AAIAV,OAAOW,OAAP,CAAe,OAAf,EAAwB;AAAA,WAAIpB,gBAAgBqB,IAAhB,EAAJ;AAAA,CAAxB;;AAEAZ,OAAOW,OAAP,CAAe,UAAf,EAA2B,YAAY;AACnC,WAAOX,OAAOa,KAAP,CAAaD,IAAb,CAAkB,EAACL,KAAK,KAAKO,MAAX,EAAlB,EACH,EAACC,QAAQ,EAAC,SAAS,CAAV,EAAa,UAAU,CAAvB,EAAT,EADG,CAAP;AAEH,CAHD;;AAKAf,OAAOW,OAAP,CAAe,aAAf,EAA8B,YAAY;AACtC,WAAOX,OAAOa,KAAP,CAAaD,IAAb,CAAkB,EAAlB,EAAsB,EAACG,QAAQ,EAAC,iBAAiB,CAAlB,EAAT,EAAtB,CAAP;AACH,CAFD,iG;;;;;;;;;;;ACXA,SAASf,MAAT,QAAuB,eAAvB;;AAEAA,OAAOgB,OAAP,CAAe,YAAM;;AAEnB,QAAIzB,gBAAgBqB,IAAhB,GAAuBK,KAAvB,OAAmC,CAAvC,EAAyC;AACrC1B,wBAAgB2B,MAAhB,CAAuB;AACfC,mBAAM,WADS;AAEfC,iBAAI;AAFW,SAAvB;AAIA7B,wBAAgB2B,MAAhB,CAAuB;AACfC,mBAAM,OADS;AAEfC,iBAAI;AAFW,SAAvB;AAIA7B,wBAAgB2B,MAAhB,CAAuB;AACnBC,mBAAM,aADa;AAEnBC,iBAAI;AAFe,SAAvB;AAIH;AACF,CAhBD,iG","file":"/app.js","sourcesContent":["/**\n * Created by xiaos on 16/12/22.\n */\nPostsCollection = new Mongo.Collection('posts')\n","/**\n * Created by xiaos on 16/12/22.\n */\nRouter.configure({\n    //使用layout模板作为所以路由的默认布局\n    layoutTemplate:'layout',\n    loadingTemplate: 'loading',\n    notFoundTemplate:'notFound',\n    waitOn() {\n        return Meteor.subscribe('posts')\n    }\n})\n\n//路径=>模板\n\n//首页\nRouter.route('/',{\n    name:'postsList'\n})\n\n//具体帖子\nRouter.route('/posts/:_id',{\n    name:'postDetail',\n    data(){\n        const id = this.params._id\n        return PostsCollection.findOne(id)\n    }\n})\n\n//当数据源为空时\nRouter.onBeforeAction('dataNotFound',{\n    only:'postDetail'\n})","/**\n * Created by xiaos on 16/12/22.\n */\n\nMeteor.publish('posts', ()=>PostsCollection.find())\n\nMeteor.publish(\"userData\", function () {\n    return Meteor.users.find({_id: this.userId},\n        {fields: {'other': 1, 'things': 1}});\n});\n\nMeteor.publish(\"allUserData\", function () {\n    return Meteor.users.find({}, {fields: {'nested.things': 1}});\n});","import { Meteor } from 'meteor/meteor';\n\nMeteor.startup(() => {\n\n  if (PostsCollection.find().count() === 0){\n      PostsCollection.insert({\n              title:'今天特价干烧水煮鱼',\n              url:'http://www.baidu.com'\n          })\n      PostsCollection.insert({\n              title:'垃圾和合谷',\n              url:'http://www.baidu.com'\n          })\n      PostsCollection.insert({\n          title:'大展身手的Meteor',\n          url:'http://www.baidu.ocm'\n      })\n  }\n})\n"]}